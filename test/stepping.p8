pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	player={
	x=0,
	y=0,
	smin=1,
	smax=2,
	sprite=1,
	steps=0
	}
	music(0)
	gametimer=60
end

function _update()
	gametimer-=1
	if(gametimer==0)gametimer=60
	prevx=player.x
	prevy=player.y
	if(btn(0))player.x-=1
	if(btn(1))player.x+=1
	if(btn(2))player.y-=1
	if(btn(3))player.y+=1
	
	if(prevx!=player.x or prevy!=player.y) then
		if(gametimer%5==0) then 
			sfx(0)
			player.steps+=1
		end
		player.sprite+=1
		if(player.sprite>player.smax) then
			player.sprite=player.smin end
	end	
	
	if(player.x>130)player.x=-5
	if(player.y>130)player.y=-5
	if(player.x<-5)player.x=130
	if(player.y<-5)player.y=130
end

function _draw()
	cls()
	rectfill(0,0,128,128,3)
	spr(player.sprite,player.x,player.y)
	color(2)
	print("steps: "..player.steps)
end
__gfx__
000000000000000000066000333333b3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000660000006600033333b3b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000006600006666660333b3333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000066666600066660033b3b333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000066660000666600333333b3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000066660000600600b3b3b333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000600600006006003b3b3b33000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000060060000000000b3b33333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010500000c55300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600000c055007001170007100137551175513755117550c7000c7000c70016015166151661516015160150c7000c7000c51026511265112651126511265110000000000000000000011615156150000000000
010600100c7500000000000000000c7500000000000000000c7500000000000000001375000000117500000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01060000240123900235002000020501204002000021301218002050021d0221801218002100020c002130120c01200002290121302223002150021501215000110121f02226002210121f0121f0121f0121f012
010600100c1140c1120c1120c113111121111311112111130c1120c1130c1130c1121111211113111121111300000000000000000000000000000000000000000000000000000000000000000000000000000000
010600102411239002000000000205112041020000000102131121810200000051021d12218112181020000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600002411200000241020000224112041020000000102131121810200000051021d1221811218102000002411239002000000000205112041020000000102131121810200000051021d122181121810200000
0106000024112000000015200002241120410200000001020c1121810200000051021813218122181020000024112390020c050000020c1120410200000001021311218102000000510218132181221810200000
01060008183130000000000000000c6100c6100c6100c615000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600080073000730007350370000733007330073300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600080073000730007350000000735000000073500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600080c73200000000000000013732000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600080c73200000000000000011732000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0106000015610156101561015610156201562015620156200c6300e6300e6300e6300c6200e6200c6200c62000610006100061000610006100061000610006100c050000000c050000000c050000000c05000000
__music__
01 01020444
00 01020444
00 41020444
00 41020403
00 05020104
00 05020104
00 06020104
00 06020104
00 07024144
00 07024144
00 07020844
00 07020844
00 44420944
00 0a420944
00 0a0b0944
00 0a0b0944
00 0a0c0944
00 0a0c0902
00 0a0b0944
00 0a0b0944
00 0a0c0944
00 0a0c0902
00 07050608
00 07050608
00 06030908
00 06030908
00 01024344
00 01020344
00 01020304
00 06020304
02 0d424344

